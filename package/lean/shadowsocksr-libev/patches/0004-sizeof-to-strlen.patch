diff -uNr a/src/local.c b/src/local.c
--- a/src/local.c	2019-10-10 19:44:46.467806300 +0800
+++ b/src/local.c	2019-10-10 19:46:38.726702300 +0800
@@ -718,7 +718,7 @@
 
                     ss_free(hostname);
                 } else {
-                    strncpy(host, ip, sizeof(ip));
+                    strncpy(host, ip, strlen(ip));
                 }
             }
 
